<head>
  <link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">
  <script src="conway.js"></script>
  <style>
    #game {
      font-family: 'VT323', monospace;
      font-size: 20px;
    }
    .value1 {
      color: green;
    }
    .value0 {
      color: red;
    }
  </style>
</head>

<html>
  <div id="game">
    <div id="gameField"></div>
  </div>
</html>
<script>

  var game = new conway(30,30);

  function updateField()
  {
    game.nextStep();
    var gameField = document.getElementById("gameField");
    while(gameField.hasChildNodes())
    {
      gameField.removeChild(gameField.lastChild);
    }

    for(var h = 0; h < game.height; h++)
    {
      var line = document.createElement("div");
      for(var w = 0; w < game.width; w++)
      {
        var number = document.createElement("span");
        number.textContent = game.getValue(w,h);
        number.setAttribute("class", "value" + game.getValue(w,h));
        number.setAttribute("id", "pos" + h + "x" + w);
        line.appendChild(number);
      }
      gameField.appendChild(line);
    }
  }

  updateField();
</script>
